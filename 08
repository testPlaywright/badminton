Feature: Edit Type Negative Validation Scenarios

  Background:
    Given I am logged into the CAT Application
    And I visit the "Tickets" page

  Scenario Outline: Validate Edit Type error states and auto-generate Excel row
    # Build the Excel row (from the blank template in fixtures) using these values:
    Given I prepare intent row from outline
      | pdlmRow     | <pdlmRow>     |
      | editType    | <editType>    |
      | listIds     | <listIds>     |
      | lobCodes    | <lobCodes>    |
      | productType | <productType> |
      | productId   | <productId>   |

    # Run the existing flow (this will upload the generated file internally)
    When I create a ticket with file "CLINICAL_INTENT.xlsx"

    Then I should see an error message for edit type "<errorMessage>"

    Examples:
      | pdlmRow      | editType | listIds | lobCodes | productType | productId  | errorMessage   |
      | 11           | INVALID  | LIST1   | MPL1     | GPN         | 7000000001 | Field is Required |
      | 12           | INVALID  | LIST3   | MPL1     | NDC         | 7000000002 | type length exceeded |